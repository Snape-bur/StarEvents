@using Microsoft.AspNetCore.Identity
@inject SignInManager<StarEvents.Models.AppUser> SignInManager
@inject UserManager<StarEvents.Models.AppUser> UserManager

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>@ViewData["Title"] - StarEvent</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: "#f5f3ff",
                            100: "#ede9fe",
                            200: "#ddd6fe",
                            300: "#c4b5fd",
                            400: "#a78bfa",
                            500: "#8b5cf6",
                            600: "#7c3aed",
                            700: "#6d28d9",
                            800: "#5b21b6",
                            900: "#4c1d95",
                        }
                    },
                    boxShadow: {
                        card: "0 8px 30px rgba(0,0,0,0.06)",
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-50 text-gray-800">

    <!-- 🌟 NAVBAR -->
    <header class="bg-white/80 backdrop-blur-xl shadow-sm sticky top-0 z-50">
        <nav class="max-w-7xl mx-auto flex justify-between items-center py-3 px-6">

            <!-- LOGO -->
            <a asp-area="Customer" asp-controller="Home" asp-action="Index"
               class="text-3xl font-extrabold tracking-tight">
                <span class="text-2xl font-extrabold tracking-tight">
                    <span class="text-gray-900">Star</span><span class="text-primary-600">Event</span>
                </span>
            </a>

            <!-- NAV LINKS -->
            <ul class="hidden md:flex items-center space-x-8 text-sm font-medium text-gray-700">

                <!-- HOME -->
                <li>
                    <a asp-area="Customer" asp-controller="Home" asp-action="Index"
                       class="@(ViewContext.RouteData.Values["controller"].ToString()=="Home"
                                                   ? "text-primary-600 font-semibold border-b-2 border-primary-600 pb-1"
                                                   : "hover:text-primary-600 transition")">
                        Home
                    </a>
                </li>

                <!-- EVENTS -->
                <li>
                    <a asp-area="Customer" asp-controller="Event" asp-action="Index"
                       class="@(ViewContext.RouteData.Values["controller"].ToString()=="Event"
                                                   ? "text-primary-600 font-semibold border-b-2 border-primary-600 pb-1"
                                                   : "hover:text-primary-600 transition")">
                        Events
                    </a>
                </li>

                <!-- MY BOOKINGS -->
                <li>
                    <a asp-area="Customer" asp-controller="Booking" asp-action="MyBookings"
                       class="@(ViewContext.RouteData.Values["action"].ToString()=="MyBookings"
                                                   ? "text-primary-600 font-semibold border-b-2 border-primary-600 pb-1"
                                                   : "hover:text-primary-600 transition")">
                        My Bookings
                    </a>
                </li>

                <!-- HISTORY -->
                <li>
                    <a asp-area="Customer" asp-controller="Booking" asp-action="History"
                       class="@(ViewContext.RouteData.Values["action"].ToString()=="History"
                                                   ? "text-primary-600 font-semibold border-b-2 border-primary-600 pb-1"
                                                   : "hover:text-primary-600 transition")">
                        History
                    </a>
                </li>

                <!-- PROFILE -->
                <li>
                    <a asp-area="Customer" asp-controller="Profile" asp-action="Index"
                       class="@(ViewContext.RouteData.Values["controller"].ToString()=="Profile"
                                                   ? "text-primary-600 font-semibold border-b-2 border-primary-600 pb-1"
                                                   : "hover:text-primary-600 transition")">
                        Profile
                    </a>
                </li>

                <!-- AUTH SECTION -->
                @if (SignInManager.IsSignedIn(User))
                {
                    <li class="text-gray-600">👤 @UserManager.GetUserName(User)</li>
                    <li>
                        <form asp-area="Identity" asp-page="/Account/Logout" method="post" class="inline">
                            <button type="submit"
                                    class="text-red-600 hover:text-red-700 transition">
                                Logout
                            </button>
                        </form>
                    </li>
                }
                else
                {
                    <li>
                        <a asp-area="Identity" asp-page="/Account/Login"
                           class="text-primary-600 hover:text-primary-700 transition">Login</a>
                    </li>
                    <li>
                        <a asp-area="Identity" asp-page="/Account/Register"
                           class="bg-primary-600 text-white px-4 py-2 rounded-xl hover:bg-primary-700 transition">
                            Sign Up
                        </a>
                    </li>
                }
            </ul>
        </nav>
    </header>

    <!-- MAIN BODY -->
    <main class="max-w-7xl mx-auto py-10 px-6">
        @RenderBody()
    </main>

    <!-- FOOTER -->
    <footer class="bg-white border-t border-gray-200 py-6 mt-10 text-center text-sm text-gray-500">
        © @DateTime.Now.Year StarEvent — All rights reserved.
    </footer>

    @RenderSection("Scripts", required: false)

</body>
</html>
